set(LOCAL_PATH ${KERNEL_ROOT}/kernel/irq)

set(SOURCE_FILES "")

add_c_source(SOURCE_FILES ${LOCAL_PATH} irqdesc)
add_c_source(SOURCE_FILES ${LOCAL_PATH} handle)
add_c_source(SOURCE_FILES ${LOCAL_PATH} manage)
add_c_source(SOURCE_FILES ${LOCAL_PATH} spurious)
add_c_source(SOURCE_FILES ${LOCAL_PATH} resend)
add_c_source(SOURCE_FILES ${LOCAL_PATH} chip)
add_c_source(SOURCE_FILES ${LOCAL_PATH} dummychip)
add_c_source(SOURCE_FILES ${LOCAL_PATH} devres)

if (${CONFIG_GENERIC_IRQ_CHIP})
	add_c_source(SOURCE_FILES ${LOCAL_PATH} generic-chip)
endif ()
if (${CONFIG_GENERIC_IRQ_PROBE})
	add_c_source(SOURCE_FILES ${LOCAL_PATH} autoprobe)
endif ()
if (${CONFIG_IRQ_DOMAIN})
	add_c_source(SOURCE_FILES ${LOCAL_PATH} irqdomain)
endif ()
if (${CONFIG_PROC_FS})
	add_c_source(SOURCE_FILES ${LOCAL_PATH} proc)
endif ()
if (${CONFIG_GENERIC_PENDING_IRQ})
	add_c_source(SOURCE_FILES ${LOCAL_PATH} migration)
endif ()
if (${CONFIG_PM_SLEEP})
	add_c_source(SOURCE_FILES ${LOCAL_PATH} pm)
endif ()

add_library(kernel-irq STATIC ${SOURCE_FILES})