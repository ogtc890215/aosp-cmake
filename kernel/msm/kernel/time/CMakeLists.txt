set(LOCAL_PATH ${KERNEL_ROOT}/kernel/time)

set(SOURCE_FILES "")

add_c_source(SOURCE_FILES ${LOCAL_PATH} timekeeping)
add_c_source(SOURCE_FILES ${LOCAL_PATH} ntp)
add_c_source(SOURCE_FILES ${LOCAL_PATH} clocksource)
add_c_source(SOURCE_FILES ${LOCAL_PATH} jiffies)
add_c_source(SOURCE_FILES ${LOCAL_PATH} timer_list)
add_c_source(SOURCE_FILES ${LOCAL_PATH} timeconv)
add_c_source(SOURCE_FILES ${LOCAL_PATH} posix-clock)
add_c_source(SOURCE_FILES ${LOCAL_PATH} alarmtimer)

if (${CONFIG_GENERIC_CLOCKEVENTS_BUILD})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} clockevents)
endif ()
if (${CONFIG_GENERIC_CLOCKEVENTS})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} tick-common)
endif ()
if (${CONFIG_GENERIC_CLOCKEVENTS_BROADCAST})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} tick-broadcast)
    add_c_source(SOURCE_FILES ${LOCAL_PATH} tick-broadcast-hrtimer)
endif ()
if (${CONFIG_GENERIC_SCHED_CLOCK})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} sched_clock)
endif ()
if (${CONFIG_TICK_ONESHOT})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} tick-oneshot)
endif ()
if (${CONFIG_TICK_ONESHOT})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} tick-sched)
endif ()
if (${CONFIG_TIMER_STATS})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} timer_stats)
endif ()

add_library(kernel-time STATIC ${SOURCE_FILES})
