set(LOCAL_PATH ${KERNEL_ROOT}/drivers/base/power)

set(SOURCE_FILES "")

if (${CONFIG_PM})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} sysfs)
    add_c_source(SOURCE_FILES ${LOCAL_PATH} generic_ops)
    add_c_source(SOURCE_FILES ${LOCAL_PATH} common)
    add_c_source(SOURCE_FILES ${LOCAL_PATH} qos)
endif ()
if (${CONFIG_PM_SLEEP})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} main)
    add_c_source(SOURCE_FILES ${LOCAL_PATH} wakeup)
endif ()
if (${CONFIG_PM_RUNTIME})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} runtime)
endif ()
if (${CONFIG_PM_TRACE_RTC})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} trace)
endif ()
if (${CONFIG_PM_OPP})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} opp)
endif ()
if (${CONFIG_PM_GENERIC_DOMAINS})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} domain)
    add_c_source(SOURCE_FILES ${LOCAL_PATH} domain_governor)
endif ()
if (${CONFIG_HAVE_CLK})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} clock_ops)
endif ()

add_library(drivers-base-power STATIC ${SOURCE_FILES})
target_include_directories(drivers-base-power PRIVATE ${LOCAL_PATH})