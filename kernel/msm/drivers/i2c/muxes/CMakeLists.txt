set(LOCAL_PATH ${KERNEL_ROOT}/drivers/i2c/muxes)

set(SOURCE_FILES "")

if (${CONFIG_I2C_ARB_GPIO_CHALLENGE})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} i2c-arb-gpio-challenge)
endif ()
if (${CONFIG_I2C_MUX_GPIO})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} i2c-mux-gpio)
endif ()
if (${CONFIG_I2C_MUX_PCA9541})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} i2c-mux-pca9541)
endif ()
if (${CONFIG_I2C_MUX_PCA954x})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} i2c-mux-pca954x)
endif ()
if (${CONFIG_I2C_MUX_PINCTRL})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} i2c-mux-pinctrl)
endif ()

if (NOT ("${SOURCE_FILES}" STREQUAL ""))
    add_library(drivers-i2c-muxes STATIC ${SOURCE_FILES})
    target_include_directories(drivers-i2c-muxes PRIVATE ${LOCAL_PATH})
endif ()
