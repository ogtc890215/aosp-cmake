set(LOCAL_PATH ${KERNEL_ROOT}/drivers/staging/android)

set(SOURCE_FILES "")

if (${CONFIG_ANDROID_BINDER_IPC})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} binder)
endif ()
if (${CONFIG_ASHMEM})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} ashmem)
endif ()
if (${CONFIG_ANDROID_LOGGER})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} logger)
endif ()
if (${CONFIG_ANDROID_TIMED_OUTPUT})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} timed_output)
endif ()
if (${CONFIG_ANDROID_TIMED_GPIO})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} timed_gpio)
endif ()
if (${CONFIG_ANDROID_LOW_MEMORY_KILLER})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} lowmemorykiller)
endif ()
if (${CONFIG_ANDROID_INTF_ALARM_DEV})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} alarm-dev)
endif ()
if (${CONFIG_SYNC})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} sync)
endif ()
if (${CONFIG_SW_SYNC})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} sw_sync)
endif ()
if (${CONFIG_ONESHOT_SYNC})
    add_c_source(SOURCE_FILES ${LOCAL_PATH} oneshot_sync)
endif ()

add_library(drivers-staging-android STATIC ${SOURCE_FILES})
target_include_directories(drivers-staging-android PRIVATE
        ${LOCAL_PATH}
        )