project(libicuuc)

set(ICU4C_ROOT ${ANDROID_ROOT}/external/icu/icu4c/source)
set(ICU4C_COMMON_ROOT ${ICU4C_ROOT}/common)

set(SOURCE_FILES
        ${ICU4C_COMMON_ROOT}/cmemory.c
        ${ICU4C_COMMON_ROOT}/cstring.c
        ${ICU4C_COMMON_ROOT}/cstr.cpp
        ${ICU4C_COMMON_ROOT}/cwchar.c
        ${ICU4C_COMMON_ROOT}/filteredbrk.cpp
        ${ICU4C_COMMON_ROOT}/icuplug.cpp
        ${ICU4C_COMMON_ROOT}/loadednormalizer2impl.cpp
        ${ICU4C_COMMON_ROOT}/locdspnm.cpp
        ${ICU4C_COMMON_ROOT}/locmap.c
        ${ICU4C_COMMON_ROOT}/pluralmap.cpp
        ${ICU4C_COMMON_ROOT}/propsvec.c
        ${ICU4C_COMMON_ROOT}/punycode.cpp
        ${ICU4C_COMMON_ROOT}/putil.cpp
        ${ICU4C_COMMON_ROOT}/resource.cpp
        ${ICU4C_COMMON_ROOT}/sharedobject.cpp
        ${ICU4C_COMMON_ROOT}/simpleformatter.cpp
        ${ICU4C_COMMON_ROOT}/uarrsort.c
        ${ICU4C_COMMON_ROOT}/ubidi.c
        ${ICU4C_COMMON_ROOT}/ubidiln.c
        ${ICU4C_COMMON_ROOT}/ubidi_props.c
        ${ICU4C_COMMON_ROOT}/ubiditransform.c
        ${ICU4C_COMMON_ROOT}/ubidiwrt.c
        ${ICU4C_COMMON_ROOT}/ucase.cpp
        ${ICU4C_COMMON_ROOT}/ucasemap.cpp
        ${ICU4C_COMMON_ROOT}/ucat.c
        ${ICU4C_COMMON_ROOT}/uchar.c
        ${ICU4C_COMMON_ROOT}/ucln_cmn.cpp
        ${ICU4C_COMMON_ROOT}/ucmndata.c
        ${ICU4C_COMMON_ROOT}/ucnv2022.cpp
        ${ICU4C_COMMON_ROOT}/ucnv_bld.cpp
        ${ICU4C_COMMON_ROOT}/ucnvbocu.cpp
        ${ICU4C_COMMON_ROOT}/ucnv.c
        ${ICU4C_COMMON_ROOT}/ucnv_cb.c
        ${ICU4C_COMMON_ROOT}/ucnv_cnv.c
        ${ICU4C_COMMON_ROOT}/ucnv_ct.c
        ${ICU4C_COMMON_ROOT}/ucnvdisp.c
        ${ICU4C_COMMON_ROOT}/ucnv_err.c
        ${ICU4C_COMMON_ROOT}/ucnv_ext.cpp
        ${ICU4C_COMMON_ROOT}/ucnvhz.c
        ${ICU4C_COMMON_ROOT}/ucnv_io.cpp
        ${ICU4C_COMMON_ROOT}/ucnvisci.c
        ${ICU4C_COMMON_ROOT}/ucnvlat1.c
        ${ICU4C_COMMON_ROOT}/ucnv_lmb.c
        ${ICU4C_COMMON_ROOT}/ucnvmbcs.cpp
        ${ICU4C_COMMON_ROOT}/ucnvscsu.c
        ${ICU4C_COMMON_ROOT}/ucnv_set.c
        ${ICU4C_COMMON_ROOT}/ucnv_u16.c
        ${ICU4C_COMMON_ROOT}/ucnv_u32.c
        ${ICU4C_COMMON_ROOT}/ucnv_u7.c
        ${ICU4C_COMMON_ROOT}/ucnv_u8.c
        ${ICU4C_COMMON_ROOT}/ucurr.cpp
        ${ICU4C_COMMON_ROOT}/udatamem.c
        ${ICU4C_COMMON_ROOT}/udataswp.c
        ${ICU4C_COMMON_ROOT}/uenum.c
        ${ICU4C_COMMON_ROOT}/uhash.c
        ${ICU4C_COMMON_ROOT}/uinit.cpp
        ${ICU4C_COMMON_ROOT}/uinvchar.c
        ${ICU4C_COMMON_ROOT}/ulist.c
        ${ICU4C_COMMON_ROOT}/ulistformatter.cpp
        ${ICU4C_COMMON_ROOT}/uloc.cpp
        ${ICU4C_COMMON_ROOT}/uloc_keytype.cpp
        ${ICU4C_COMMON_ROOT}/uloc_tag.c
        ${ICU4C_COMMON_ROOT}/umapfile.c
        ${ICU4C_COMMON_ROOT}/umath.c
        ${ICU4C_COMMON_ROOT}/umutex.cpp
        ${ICU4C_COMMON_ROOT}/unames.cpp
        ${ICU4C_COMMON_ROOT}/uresbund.cpp
        ${ICU4C_COMMON_ROOT}/ures_cnv.c
        ${ICU4C_COMMON_ROOT}/uresdata.cpp
        ${ICU4C_COMMON_ROOT}/usc_impl.c
        ${ICU4C_COMMON_ROOT}/uscript.c
        ${ICU4C_COMMON_ROOT}/uscript_props.cpp
        ${ICU4C_COMMON_ROOT}/ushape.cpp
        ${ICU4C_COMMON_ROOT}/ustrcase.cpp
        ${ICU4C_COMMON_ROOT}/ustr_cnv.cpp
        ${ICU4C_COMMON_ROOT}/ustrfmt.c
        ${ICU4C_COMMON_ROOT}/ustring.cpp
        ${ICU4C_COMMON_ROOT}/ustrtrns.cpp
        ${ICU4C_COMMON_ROOT}/ustr_wcs.cpp
        ${ICU4C_COMMON_ROOT}/utf_impl.c
        ${ICU4C_COMMON_ROOT}/utrace.c
        ${ICU4C_COMMON_ROOT}/utrie2_builder.cpp
        ${ICU4C_COMMON_ROOT}/utrie.cpp
        ${ICU4C_COMMON_ROOT}/utypes.c
        ${ICU4C_COMMON_ROOT}/wintz.c

        ${ICU4C_COMMON_ROOT}/appendable.cpp
        ${ICU4C_COMMON_ROOT}/bmpset.cpp
        ${ICU4C_COMMON_ROOT}/brkeng.cpp
        ${ICU4C_COMMON_ROOT}/brkiter.cpp
        ${ICU4C_COMMON_ROOT}/bytestream.cpp
        ${ICU4C_COMMON_ROOT}/bytestriebuilder.cpp
        ${ICU4C_COMMON_ROOT}/bytestrie.cpp
        ${ICU4C_COMMON_ROOT}/bytestrieiterator.cpp
        ${ICU4C_COMMON_ROOT}/caniter.cpp
        ${ICU4C_COMMON_ROOT}/chariter.cpp
        ${ICU4C_COMMON_ROOT}/charstr.cpp
        ${ICU4C_COMMON_ROOT}/dictbe.cpp
        ${ICU4C_COMMON_ROOT}/dictionarydata.cpp
        ${ICU4C_COMMON_ROOT}/dtintrv.cpp
        ${ICU4C_COMMON_ROOT}/errorcode.cpp
        ${ICU4C_COMMON_ROOT}/filterednormalizer2.cpp
        ${ICU4C_COMMON_ROOT}/listformatter.cpp
        ${ICU4C_COMMON_ROOT}/locavailable.cpp
        ${ICU4C_COMMON_ROOT}/locbased.cpp
        ${ICU4C_COMMON_ROOT}/locdispnames.cpp
        ${ICU4C_COMMON_ROOT}/locid.cpp
        ${ICU4C_COMMON_ROOT}/loclikely.cpp
        ${ICU4C_COMMON_ROOT}/locresdata.cpp
        ${ICU4C_COMMON_ROOT}/locutil.cpp
        ${ICU4C_COMMON_ROOT}/messagepattern.cpp
        ${ICU4C_COMMON_ROOT}/normalizer2.cpp
        ${ICU4C_COMMON_ROOT}/normalizer2impl.cpp
        ${ICU4C_COMMON_ROOT}/normlzr.cpp
        ${ICU4C_COMMON_ROOT}/parsepos.cpp
        ${ICU4C_COMMON_ROOT}/patternprops.cpp
        ${ICU4C_COMMON_ROOT}/propname.cpp
        ${ICU4C_COMMON_ROOT}/rbbi.cpp
        ${ICU4C_COMMON_ROOT}/rbbidata.cpp
        ${ICU4C_COMMON_ROOT}/rbbinode.cpp
        ${ICU4C_COMMON_ROOT}/rbbirb.cpp
        ${ICU4C_COMMON_ROOT}/rbbiscan.cpp
        ${ICU4C_COMMON_ROOT}/rbbisetb.cpp
        ${ICU4C_COMMON_ROOT}/rbbistbl.cpp
        ${ICU4C_COMMON_ROOT}/rbbitblb.cpp
        ${ICU4C_COMMON_ROOT}/resbund_cnv.cpp
        ${ICU4C_COMMON_ROOT}/resbund.cpp
        ${ICU4C_COMMON_ROOT}/ruleiter.cpp
        ${ICU4C_COMMON_ROOT}/schriter.cpp
        ${ICU4C_COMMON_ROOT}/serv.cpp
        ${ICU4C_COMMON_ROOT}/servlk.cpp
        ${ICU4C_COMMON_ROOT}/servlkf.cpp
        ${ICU4C_COMMON_ROOT}/servls.cpp
        ${ICU4C_COMMON_ROOT}/servnotf.cpp
        ${ICU4C_COMMON_ROOT}/servrbf.cpp
        ${ICU4C_COMMON_ROOT}/servslkf.cpp
        ${ICU4C_COMMON_ROOT}/stringpiece.cpp
        ${ICU4C_COMMON_ROOT}/stringtriebuilder.cpp
        ${ICU4C_COMMON_ROOT}/ubrk.cpp
        ${ICU4C_COMMON_ROOT}/ucasemap_titlecase_brkiter.cpp
        ${ICU4C_COMMON_ROOT}/ucharstriebuilder.cpp
        ${ICU4C_COMMON_ROOT}/ucharstrie.cpp
        ${ICU4C_COMMON_ROOT}/ucharstrieiterator.cpp
        ${ICU4C_COMMON_ROOT}/uchriter.cpp
        ${ICU4C_COMMON_ROOT}/ucnvsel.cpp
        ${ICU4C_COMMON_ROOT}/ucol_swp.cpp
        ${ICU4C_COMMON_ROOT}/udata.cpp
        ${ICU4C_COMMON_ROOT}/uhash_us.cpp
        ${ICU4C_COMMON_ROOT}/uidna.cpp
        ${ICU4C_COMMON_ROOT}/uiter.cpp
        ${ICU4C_COMMON_ROOT}/unifiedcache.cpp
        ${ICU4C_COMMON_ROOT}/unifilt.cpp
        ${ICU4C_COMMON_ROOT}/unifunct.cpp
        ${ICU4C_COMMON_ROOT}/uniset_closure.cpp
        ${ICU4C_COMMON_ROOT}/uniset.cpp
        ${ICU4C_COMMON_ROOT}/uniset_props.cpp
        ${ICU4C_COMMON_ROOT}/unisetspan.cpp
        ${ICU4C_COMMON_ROOT}/unistr_case.cpp
        ${ICU4C_COMMON_ROOT}/unistr_case_locale.cpp
        ${ICU4C_COMMON_ROOT}/unistr_cnv.cpp
        ${ICU4C_COMMON_ROOT}/unistr.cpp
        ${ICU4C_COMMON_ROOT}/unistr_props.cpp
        ${ICU4C_COMMON_ROOT}/unistr_titlecase_brkiter.cpp
        ${ICU4C_COMMON_ROOT}/unormcmp.cpp
        ${ICU4C_COMMON_ROOT}/unorm.cpp
        ${ICU4C_COMMON_ROOT}/uobject.cpp
        ${ICU4C_COMMON_ROOT}/uprops.cpp
        ${ICU4C_COMMON_ROOT}/uset.cpp
        ${ICU4C_COMMON_ROOT}/usetiter.cpp
        ${ICU4C_COMMON_ROOT}/uset_props.cpp
        ${ICU4C_COMMON_ROOT}/usprep.cpp
        ${ICU4C_COMMON_ROOT}/ustack.cpp
        ${ICU4C_COMMON_ROOT}/ustrcase_locale.cpp
        ${ICU4C_COMMON_ROOT}/ustrenum.cpp
        ${ICU4C_COMMON_ROOT}/ustr_titlecase_brkiter.cpp
        ${ICU4C_COMMON_ROOT}/utext.cpp
        ${ICU4C_COMMON_ROOT}/util.cpp
        ${ICU4C_COMMON_ROOT}/util_props.cpp
        ${ICU4C_COMMON_ROOT}/utrie2.cpp
        ${ICU4C_COMMON_ROOT}/uts46.cpp
        ${ICU4C_COMMON_ROOT}/uvector.cpp
        ${ICU4C_COMMON_ROOT}/uvectr32.cpp
        ${ICU4C_COMMON_ROOT}/uvectr64.cpp

        ${ICU4C_ROOT}/stubdata/stubdata.c
        )


add_library(libicuuc SHARED ${SOURCE_FILES})
target_include_directories(libicuuc PUBLIC
        ${ICU4C_COMMON_ROOT}
        )
target_compile_definitions(libicuuc PRIVATE
        -D_REENTRANT
        -DU_COMMON_IMPLEMENTATION
        -DPIC
        )
target_compile_options(libicuuc PRIVATE
        -frtti
        -O3
        -fvisibility=hidden
        -Wno-unused-parameter
        -Wno-missing-field-initializers
        -Wno-sign-compare
        -Wno-deprecated-declarations
        )